// Hochpräziser Risiko-Algorithmus
function analyzeText(text) {
    // 1. Defamation Detection (BGH-Urteile)
    const defamationPatterns = [
        { pattern: /\b(betrüger|abzocke|scam)\b/gi, weight: 0.9, precedent: "BGH Urteil I ZR 114/17" },
        { pattern: /\b(gefährlich|gesundheitsschädlich)\b/gi, weight: 0.7, test: hasEvidence(text) }
    ];

    // 2. Copyright Detection (EU-Richtlinie 2019/790)
    const copyrightPatterns = [
        { pattern: /©|(?:urheberrecht|copyright)/gi, weight: 0.6 },
        { pattern: /(\b[A-Z]{2,}\b).*?(?:logo|marke)/g, weight: 0.8 } // Markennamen
    ];

    // 3. Ergebnisberechnung
    const results = {
        defamation: calculateRisk(defamationPatterns),
        copyright: calculateRisk(copyrightPatterns),
        privacy: detectGDPR(text) // DSGVO-spezifisch
    };

    displayResults(results);
}
